# Learn JS

# 1. 基本包装类型

## 1.1 基本包装类型简介
[DOME1](./html/dome1.js)
在ECMAScript 中，为了更方便的操作基本类型，还提供了特殊的3中引入类型： String() || Boolean || Number; 在这些引入类型中存放着各自的基本类型所需要方法；

我们知道，基本类型无法添加属性和方法；
```
var str = 'abc';
str.name = 'ff';
console.log(str.name); // undefined
```

但是，我们也知道字符串本身是可以使用方法的：
```
var str1 = 'you are happy';
console.log(str1.substring(3)); // are happy
```

其实这里的方法是字符串包装函数的；

在我们去访问一个基本类型的时候，浏览器会执行以下行为：
1. 创建一个包装函数的实例， `var str1 = new String(you are happy)`
2. 在这个实例上调用指定的方法， `str1.substring(3)`
3. 销毁这个实例， `str1 = null`

注：可以通过type of 检测出number || string || boolean

## 1.2 基本包装类型的生存期

在使用new 创建的引用类型的实例，在执行流离开当前作用域之前，会一直保存在内存中，而自动创建的基本包装类型的对象，则只存在代码执行的瞬间，当代码执行接受的时候就立即销毁；
回头看：
```
// var str = 'abc';
// str.name = 'ff';
// console.log(str.name); // undefined
```
这里在第一次访问str的时候，创建一个String的实例，然后添加name属性，在添加完成的时候，销毁这个实例；
在第二次访问str的时候，同样创建一个新的String的实例，然后查找name 属性，查找不到返回undefined；

注：虽然我们可以使用基本包装类型来构建实例，但是最好不要这样做；

## 1.3 基本包装类型

### 1.3.1 Boolean类型

创建Boolean对象  `var booleanObj = new Boolean('false')`

```
var blooean = new Boolean(false);
console.log(blooean);//[Boolean: false]
console.log(typeof blooean); // object
console.log(Boolean(blooean)); // true
```

由上可以看出： 一个布尔值对象在判断中视为 true，所以一般不会以表达式的形式创建Boolean对象

### 1.3.2 Number 类型

Number 是数字值的包装类型，要创建 Number 对象，可以：
`var num = new Number(10)`
同样不建议使用对象的形式去表示数值；

Number 类型，重写了 valueof () 、 toString() 、toLocaleString()
其中 valueOf -- 返回对象表示的基本类型；
toString & toLocaleString -- 返回字符串形式的数值

其中toString 还可以接收一个表示基数的参数，它决定了以几进制的方式返回数值字符串
```
var num = 100;
console.log(num.toString(2)); // 1100100
```

Number 除了继承的方法以外，还具有一些自己的方法

1) toFixed(num)

toFixed 会按照指定的小数位，返回数值的字符串表示

```
var num1 = 10.1234;
console.log(num1.toFixed(2)); // 10.12
```
2) toExponential()
返回以指数标识符表示的数值的字符串类型

3) toPrecision(num)
num- 表示除指数部分外需要保留几位数值
```
var num2 = 1012345;
console.log(num2.toPrecision(2)); //1.0e+6
```

### 1.3.3 String 类型

String类型是字符串的对象包装函数，同样可以使用 String 构造函数来创建

`var str = new String('this is a StrObj')`

String类型的实例中都具有一个 length 属性，表示字符串含有多少个字符，注意：如果一个字符中含有多个字节，那么每一个字符仍然算一个字符

String 类型提供了很多方法，以供我们来操作字符串

1. 字符方法

charAt(i: number) || charCodeAr(i: number) || str[i:number]
i: number -- 基于0的数字，表示字符位置

charAt(i: number) -- 查找i: number位的字符
charCodeAt(i: number) -- 查找i: number位的字符的字符编码
str[i:number] -- 查找i: number位的字符
```
var str = 'hello world'
console.log(str.charAt(3)); // l
console.log(str.charCodeAt(3)); // 108
console.log(str[3]); //l
```
注：使用`[]`的形式获取字符的时候要注意，只能兼用到ie8+

2. 字符串操作方法

concat() || slice() || substring() || substr()

concat() -- 链接一个或者多个字符串，返回链接后的字符串，不改变原字符串
`str.concat(other: string)`

```
var str = 'hello '
var str1 = ' world'
console.log(str.concat(str1)); //hello  world
```
>注：使用`+`能够得到同样的结果，并且效果更好

slice() || substring() || substr()

>共同：
这3个都是基于子字符串创建新字符串的方法；
都不会修改原数组
第一个参数都表示指定子字符串的起始位置
如果没有第二个参数，就以字符串的最后一个字符作为结束

>不同：
> slice 和 substring 第二个参数都是结束的位置，而substr表示截取的长度
> substr 和 substring 会将负数视为0，而slice会负数做加上length的处理,

```
str.slice(from: number, to?: number)
str.substring(from: number, to?: number)
str.substr(from: number, length?: number)
```
实例：
```
var str = 'abcdefg';
console.log(str.substr(1, 2)); // bc
console.log(str.slice(1, 2)); // b
console.log(str.substring(1, 2)); // b
```

注: 在IE9之前，slice 使用负数会返回原字符串

3. 字符串位置方法

String 类型提供了两个查找字符串位置的方法：

`indexOf` || `lastIndexOf`

这两个都是返回查找字符串的位置，如果没有找到就返回-1
都可以接受第二个参数，表示查找的起始位置；

区别在于，一个是从左向右查找，一个是从右向左

```
str.indexOf(char: string, from?: number)
str.lastIndexOf(char: string, from?: number)
```

```
var str = 'abcdefgabcdegd'
console.log(str.indexOf('a')); // 0
console.log(str.indexOf('a', 4)); // 7
console.log(str.lastIndexOf('a')); // 7
console.log(str.lastIndexOf('a', 6)); //0
```

4. trim() 方法

这个方法会创建一个副本，删除前后空格，不改变原字符串
```
var spStr = '        javascript       '
console.log(spStr.trim()); // javascript
console.log(spStr); //        javascript       
```

支持到IE9+ 并且 Firefox 和 chrome 以及safari 还支持非标准的 trimLeft() 以及 trimRight()

5. 字符串的大小转换

toLowerCase() || toUpperCase()
toLocaleLowerCase || toLocaleUpperCase()

6. 字符串的模式匹配方法
